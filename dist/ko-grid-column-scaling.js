/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function n(q,r){return function(l){return l}(function(l,a,c,d){d.defineExtension("ko-grid-column-scaling",{c:["ko-grid-view-state-storage","ko-grid-column-sizing"],b:function(d,k,b){function f(f){var e=0,a=0,d=0,g={};b.columns.displayed().forEach(function(b){var c=p(b),f;c&&m(b)?(f=h()[b.id].width,a+=f):(f=b.widthInPixels(),d+=c?0:f);e+=f;g[b.id]={width:f,a:0}});if(e>=f)return g;var k=f-e,l=a||e-d;return c.e.g(g,function(f,c){var e=b.columns.byId(c);if(!p(e)||a&&!m(e))return f;e=Math.round(f.width/
l*k);k-=e;l-=f.width;return{width:f.width,a:e}})}function e(e){e=f(e);c.e.f(e,function(e,f){b.columns.byId(e).width(f.width+f.a+"px")});h(e)}function m(b){var e=h()[b.id];return e&&e.width+e.a===b.widthInPixels()}var h=a.observable({});b.extensions["ko-grid-view-state-storage"].modeDependent.bind("borrowedPixels",h);var p=b.extensions["ko-grid-column-sizing"].isResizable;b.layout.beforeRelayout(function(){if(!b.extensions["ko-grid-column-resizing"]||!b.extensions["ko-grid-column-resizing"].isResizeInProgress()){var f=
this.querySelector(".ko-grid-table-scroller").clientWidth,c=b.columns.combinedWidth(),a=0;b.columns.displayed().forEach(function(b){a+=m(b)?h()[b.id].a:0});(f>c||f<c&&a)&&e(f)}})}});return d.declareExtensionAlias("columnScaling","ko-grid-column-scaling")}({},q,function(){var l;l=function(){function a(c,a){return Object.prototype.hasOwnProperty.call(c,a)}return{b:function(c,a){if(c===a)return!0;var g=!!a&&"function"===typeof a.valueOf;return!!c&&"function"===typeof c.valueOf&&g&&c.valueOf()===a.valueOf()},
extend:function(c,a){Array.prototype.slice.call(arguments,1).forEach(function(a){for(var d=Object.keys(a),b=0,f=d.length;b<f;b++){var e=d[b],m=Object.getOwnPropertyDescriptor(a,e);void 0!==m&&m.enumerable&&Object.defineProperty(c,e,m)}});return c},f:function(c,d){for(var g in c)a(c,g)&&d(g,c[g])},d:a,g:function(c,d){var g={},k;for(k in c)a(c,k)&&(g[k]=d(c[k],k,c));return g}}}();return function(a){return a}(function(a,c,d,g){return{h:a,o:c,e:d,s:g}}(function(a){function c(b){return b.filter(function(b,
e,a){return a.lastIndexOf(b)===e})}function d(b,f){for(var e=b.length,a=-1,c=0;c<e;++c)if(f(b[c])){if(0<=a)throw Error("Multiple elements match the predicate.");a=c}return a}function g(b,a){return b&&"function"===typeof b.valueOf&&a&&"function"===typeof a.valueOf?b.valueOf()<=a.valueOf()?b.valueOf()<a.valueOf()?-1:0:1:b<=a?b<a?-1:0:1}function k(b,a){var e=b.length,c=Array(e),h=Array(e),d;for(d=0;d<e;++d)c[d]=d,h[d]=b[d];d=b;b=h;h=d;c.sort(function(c,e){return a(b[c],b[e])||c-e});for(d=0;d<e;++d)h[d]=
b[c[d]];return h}return{contains:function(b,a){return 0<=b.indexOf(a)},c:function(b){if(50<b.length){for(var f=b.length,e={},d,h=0;h<f;++h)if(d=b[h],"string"===typeof d)if(a.d(e,d))break;else e[d]=!0;else if(b.lastIndexOf(d)!==h)break;if(!(h>=f)){for(var g=b.slice(0,h);h<f;++h)d=b[h],"string"===typeof d?a.d(e,d)||(e[d]=!0,g.push(d)):b.lastIndexOf(d)===h&&g.push(d);b=g}}else b=c(b);return b},i:function(b,a){return Array.prototype.concat.apply([],b.map(a))},k:function(b,a){var c=d(b,a);if(0>c)throw Error("None of the elements matches the predicate.");
return b[c]},l:function(b,a){var c=d(b,a);return 0<=c?b[c]:null},m:function(b,a){var c=a||g;window.chrome?c=k(b,c):(b.sort(c),c=b);return c}}}(l),function(){function a(a){return function(){return a}}return{t:a(!0),n:a(!1),q:a(void 0),r:a(null),u:a(0),j:a,p:function(a){return a}}}(),l,{b:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},c:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},format:function(a){var c=arguments;return a.replace(/{(\d+)}/g,
function(a,g){var k=parseInt(g,10)+1;return typeof c.length<=k?a:c[k]})}}))}(),r))}"function"===typeof define&&define.amd?define("knockout ko-grid ko-grid-column-resizing ko-grid-view-state-storage ko-data-source ko-indexed-repeat ko-grid-column-sizing ko-grid-view-modes".split(" "),n):window["ko-grid-column-scaling"]=n(window.ko,window.ko.bindingHandlers.grid);
